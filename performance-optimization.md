# 性能优化按技术层级分类
## 加载性能优化（提高首屏速度）
1. 按需加载（懒加载）
2. 资源压缩与合并：HTML/CSS/JS 压缩、JS 合并
3. 代码分割：Webpack/Vite 分包减少首屏体积
4. 开启 Gzip/Brotli 压缩：服务端配置压缩响应
5. 使用 CDN 加速：静态资源放在 CDN，减少本地服务器负载
6. 减少 HTTP 请求数量
7. 预加载、预渲染

### 懒加载
**概念**：将非关键资源（如图片、组件、模块）的加载延迟到实际需要时执行，从而减少初始负载时间，优化首屏渲染性能。

## 资源加载优化
1. 图片懒加载/压缩
2. 使用字体图标/精灵图：减少图片请求数量
3. 使用缓存：设置强缓存和协商缓存
4. 减少重定向、使用相对路径：避免 DNS 查询和跳转耗时

## 渲染性能优化（避免卡顿）
1. 减少重排/重绘：避免频繁 DOM 操作，合并写操作
2. 使用 will-change / transform 触发 GPU 加速：提高动画流畅度
3. 虚拟列表 / 虚拟滚动：渲染大数据量列表时节省 DOM
4. 避免频繁读取 layout 属性：如频繁访问 offsetTop 等会强制回流
5. 减少不必要的 CSS 选择器层级：提高样式计算效率
6. 删除未使用的 CSS 代码（如使用 PurgeCSS、Tree Shaking）
7. 合并、压缩 CSS 文件：减少请求、提高加载效率
8. 使用 CSS 精灵图（Sprite）：减少图片请求次数

## JS 执行优化
1. 使用节流（throttle）/防抖（debounce）：控制高频事件如 scroll/input
2. 减少全局变量、避免闭包占用内存：避免内存泄漏
3. 使用Web Worker处理耗时任务：不阻塞主线程
4. 使用async/await替代回调地狱：提升可读性和调试性

## 网络优化
1. 开启 HTTP/2 / Keep-Alive：多资源并发传输、复用连接
2. 使用 Service Worker 缓存：离线访问/提高加载速度
3. 避免跨域预检：合理设置请求头，使用简单请求
4. 使用 DNS 预获取：`<link rel="dns-prefetch">` 提前解析域名
5. 使用 CDN：缩短请求距离，减少加载延迟
6. 合理设置缓存策略：包括强缓存和协商缓存
7. 减少不必要的请求，合并请求（如 API 合并）
8. 图片懒加载、资源预加载：提升加载效率
9. 压缩资源：启用 Gzip 或 Brotli 压缩响应内容

# 性能优化按优化对象分类
| 对象   | 优化方式（示例）                 |
| ---- | ------------------------ |
| HTML | 精简结构、懒加载组件、模板预渲染         |
| CSS  | 删除冗余、压缩、选择器优化、合并文件       |
| JS   | Tree Shaking、代码分割、减少全局变量 |
| 图片资源 | WebP、懒加载、压缩、精灵图          |
| 网络请求 | CORS 优化、缓存策略、接口合并、CDN 加速 |


# 性能优化按生命周期分类
## 加载时优化
1. 减少 HTTP 请求
2. 使用 HTTP2
3. 使用服务端渲染：客户端渲染需要获取 HTML 文件，根据需要下载 JavaScript 文件，运行文件，生成 DOM，再渲染。而服务端渲染是服务端返回 HTML 文件，客户端只需解析 HTML。优点：首屏渲染快，SEO 好。缺点：配置麻烦，增加了服务器的计算压力。
4. 静态资源使用 CDN
5. 将 CSS 放在文件头部，JavaScript 文件放在底部
6. 使用字体图标 iconfont 代替图片图标
7. 善用缓存，不重复加载相同的资源
8. 压缩文件
9. 图片优化
10. 通过 webpack 按需加载代码，提取第三库代码，减少 ES6 转为 ES5 的冗余代码

## 运行时优化
1. 减少重绘重排
2. 使用事件委托
3. 注意程序的局部性：一个编写良好的计算机程序常常具有良好的局部性，它们倾向于引用最近引用过的数据项附近的数据项，或者最近引用过的数据项本身，这种倾向性，被称为局部性原理。有良好局部性的程序比局部性差的程序运行得更快
4. 倾向于使用 switch 而不是 if-else
5. 查找表
6. 避免页面卡顿
7. 使用 requestAnimationFrame 来实现视觉变化
8. 使用 Web Workers
9. 使用位操作
10. 不要覆盖原生方法
11. 降低 CSS 选择器的复杂性
12. 使用 flexbox 而不是较早的布局模型
13. 使用 transform 和 opacity 属性更改来实现动画

# 性能监控
| 工具 / 技术                 | 作用             |
| ----------------------- | -------------- |
| Chrome DevTools         | 性能分析、网络请求、水帧帧率 |
| Lighthouse / Web Vitals | 页面性能指标检测工具     |
| Sentry、Fundebug         | 错误监控、异常上报      |
| xlight、performance API  | 页面测速、JS 执行分析   |
